<html>
<head>
	<script src="js/jquery-1.11.3.min.js"></script>
</head>
<body>

	<button type="Submit" name="savebutton" id ="id_save" class="Save">Save</button>

	<br /><br />
	
	<span  style="color: #96763B" face="calibri" size="4.5">
	<b>TABLE 8: PEOPLE VISITING THE CAMPS (Only number of visits)</b></span>         
	
	<table border="1px" bordercolor="#538467" class = "table8" id ="id_table8" cellpadding="2" cellspacing="0" style="border-collapse:collapse;" width="100%">
		<tbody>
		<tr align="center">
			<td id="ft" width="11%">Camp number</td>
			<td id="ft" width="13%">Govt Officials</td>
			<td id="ft" width="14%">State Head</td>
			<td id="ft" width="15%">Content SRGs</td>
			<td id="ft" width="16%">DRLs</td>
			<td id="ft" width="16%">MME Team</td>
			<td id="ft" width="16%">Community</td>
			<td id="ft" width="12%">Others</td>
		</tr>
		
		<tr align="center" >
			<td id="ft" width="11%"  >Camp 1</td>
			<td width="13%" style="background: ">
				<input type = "Text" class = "govtofficials" id="id_camp1_govtofficials" name="camp1GovtOfficials" style="width:50px;">

			</td>
			
			<td width="14%" style="background: ">
				<input type = "text"  class = "statehead" id="id_camp1_statehead" name="camp1StateHead" style="width:50px;">

			</td>
			
			<td width="15%" style="background: ">
				<input type = "text"  class = "contentsrg" id="id_camp1_contentsrg" name="camp1ContentSRG" style="width:50px;">
					
			</td>
			
			<td width="16%" style="background: ">
				<input type = "text"  class = "bc_drl" id="id_camp1_bc_drl" name="Camp1BCDRL" style="width:50px;">

			</td>


			<td width="16%" style="background: ">
				<input type = "text" class="mmeteam" id="id_camp1_mmeteam" name="camp1MMETeam" style="width:50px;">
					
				
			</td>
			
			<td width="16%" style="background: ">
				<input type = "text" class ="community" id="id_camp1_community" name="camp1Community" style="width:50px;">
							
				
			</td>
			
			<td width="12%" style="background: ">
				<input type ="text"  class = "other" id="id_camp1_others" name="camp1Others" style="width:50px;">
					
				
			</td>
		</tr>
		
		<tr align="center">
			<td id="ft" width="11%">Camp 2</td>
			<td width="13%" style="background: ">
				<input type = "text" class  = "govtofficials" id="id_camp2_govtofficials" name="camp2GovtOfficials" style="width:50px;">

			</td>
			<td width="14%" style="background: ">
				<input type = "text"  class  = "statehead" id="id_camp2_statehead" name="camp2StateHead" style="width:50px;">
					
			</td>
			
			<td width="15%" style="background: ">
				<input type = "text"  class  = "contentsrg" id="id_camp2_contentsrg" name="camp2ContentSRG" style="width:50px;">
					
			</td>
			

			<td width="16%" style="background: ">
				<input type ="text" class  = "bc_drl" id="id_camp2_bc_drl" name="camp2BCDRL" style="width:50px;">
					
			</td>
			
			<td width="16%" style="background: ">
				<input type = "text"  class  = "mmeteam" id="id_camp2_mmeteam" name="camp2MMETeam" style="width:50px;">
					
				
			</td>
			
			<td width="16%" style="background: ">
				<input type = "text" class  = "community" id="id_camp2_community" name="camp2Community" style="width:50px;">
				
			</td>
			
			<td width="12%" style="background: ">
				<input type = "text" class  = "other" id="id_camp2_others" name="camp2Others" style="width:50px;">
					
			
			</td>
		</tr>
		
		<tr align="center">
			<td id="ft" width="11%">Camp 3</td>
			<td width="13%" style="background: ">
				<input type ="text"  class  = "govtofficials" id="id_camp3_govtofficials" name="camp3GovtOfficials" style="width:50px;">
					
			</td>
			
			<td width="14%" style="background: ">
				<input type ="text"  class  = "statehead"  id="id_camp3_statehead" name="camp3StateHead" style="width:50px;">
					
			</td>
			
			<td width="15%" style="background: ">
				<input type ="text"  class  = "contentsrg"  id="id_camp3_contentsrg" name="camp3ContentSRG" style="width:50px;">
					
			</td>
			
			<td width="16%" style="background: ">
				<input type ="text"   class  = "bc_drl" id="id_camp3_bc_drl" name="camp3BCDRL" style="width:50px;">
					
				
			</td>
			
			<td width="16%" style="background: ">
				<input type ="text" class  = "mmeteam" id="id_camp3_mmeteam" name="camp3MMETeam" style="width:50px;">
					
			</td>
			
			<td width="16%" style="background: ">
				<input type ="text" class  = "community" id="id_camp3_community" name="camp3Community" style="width:50px;">
					
			</td>
			

			<td width="12%" style="background: ">
				<input type ="text"  class  = "other" id="id_camp3_others" name="camp3Others" style="width:50px;">
					
			</td>
		</tr>
		<tr align="center">
			<td id="ft" width="11%">Camp 4</td>
			<td width="13%" style="background: ">
				<input type ="text"  class  = "govtofficials" id="id_camp4_govtofficials" name="camp4GovtOfficials" style="width:50px;">
					
			</td>
			
			<td width="14%" style="background: ">
				<input type ="text"  class  = "statehead" id="id_camp4_statehead" name="camp4StateHead" style="width:50px;">
					
				</select>
			</td>
			
			<td width="15%" style="background: ">
				<input type ="text"  class  = "contentsrg" id="id_camp4_contentsrg" name="camp4ContentSRG" style="width:50px;">
					
			</td>
			
			<td width="16%" style="background: ">
				<input type ="text"  id="id_camp4_bc_drl" class  = "bc_drl"  name="camp4BCDRL" style="width:50px;">
					
			</td>

			<td width="16%" style="background: ">
				<input type ="text"  id="id_camp4_mmeteam" class  = "mmeteam" name="camp4MMETeam" style="width:50px;">
					
				
			</td>
			
			<td width="16%" style="background: ">
				<input type ="text"  id="id_camp4_community" class  = "community" name="camp4Community" style="width:50px;">
					
			</td>
			
			<td width="12%" style="background: ">
				<input type ="text"  id="id_camp4_others" class  = "other" name="camp4Others" style="width:50px;">
					
			</td>
		</tr> 
		</tbody>

	</table>
			
	<?php 

		// code for DB query to get count of camps already entered for this school

		echo "<input type=text id='campnumber' style='display:none' value='$var' />"; 

	?>
	<script type="text/javascript"> 
		$(document).ready(function() {
		   		//alert('at ready');
		        $('.save').click(function(e) {

		        var requestData = { }; 
		        //Fetch table 1 info.
		        requestData['tbl1Info'] = { };

		        requestData['tbl1Info']['schoolCode'] = $('#id_schoolcode').val();
				requestData['tbl1Info']['campModel'] = $('#id_campModel').val();
				requestData['tbl1Info']['campPhase'] = $('#id_campPhase').val();
				requestData['tbl1Info']['commonChildren'] = $('#id_commonchildren').val();
				requestData['tbl1Info']['diseCode'] = $('#id_disecode').val();
				requestData['tbl1Info']['villageName'] = $('#id_villagename').val();
				requestData['tbl1Info']['totalTeacher'] = $('#id_totalTeacher').val();
				requestData['tbl1Info']['classX'] = $('#id_classX').val();
				requestData['tbl1Info']['classY'] = $('#id_classY').val();
				requestData['tbl1Info']['std3TragetChildren'] = $('#id_std3').val();
				requestData['tbl1Info']['std4TragetChildren'] = $('#id_std5').val();
				requestData['tbl1Info']['std5TragetChildren'] = $('#id_std4').val();
				requestData['tbl1Info']['childrenMale'] = $('#id_childrenMale').val();

		        requestData['tbl1Info']['campTeachingInfo'] = [];


		        requestData['tbl1Info']['campTeachingInfo'].push({
		        	'teachingDays': $('#id_teachingDays').val(),
		        	'startdate': 'id_startdate',
		        	'enddate': 'id_startdate',
		        });

		        console.log(requestData);
		        return;
		        requestData['tbl1Info']['campTeachingInfo'][0]['teachingDays'] = {};
		        requestData['tbl1Info']['campTeachingInfo']['camp2'] = 'sdf';
		        requestData['tbl1Info']['campTeachingInfo']['camp3'] = 'sdf';
		        requestData['tbl1Info']['campTeachingInfo']['camp4'] = 'sdf';

				//Fetch table 2 info.
		        requestData['tbl2Info'] = { } ;
		        requestData['tbl1Info']['lkjfd'] = '';

				//Fetch table 3 info.
		        requestData['tbl1Info'] = 

				//Fetch table 4 info.
		        requestData['tbl1Info'] = 

				//Fetch table 8 info.
		        requestData['tbl1Info'] = 
		        
		        //Fetch table 8 info.
		        var trList = $('.table8 tbody').children();
				var campList = [];
				for(var i = 0; i < trList.length; i++){
   					var currentTr = $(trList[i]);
   					var newCamp = {};
   					
   					newCamp['govtofficials'] = (currentTr.find('.govtofficials')).val();
   					newCamp['Statehead'] = $(currentTr.find('.statehead')).val();
   					newCamp['ContentSRG'] = $(currentTr.find('.contentsrg')).val();
   					newCamp['BCDRL'] = $(currentTr.find('.bc_drl')).val();   					
   					newCamp['MMEteam'] = $(currentTr.find('.mmeteam')).val();
   					newCamp['Community'] = $(currentTr.find('.Community')).val(); 
   					newCamp['Others'] = $(currentTr.find('.other')).val();   					  					

   					campList.push(newCamp);

				}
				console.log('camplis', campList);		     

				//Fetch taable 1 info.   
 				
 				 

	   //      	var camp1GovtOfficials = $('#id_camp1_govtofficials').val();
				// var camp1StateHead = $('#id_camp1_statehead').val();
				// var camp1ContentSRG = $('#id_camp1_contentsrg').val();
				// var Camp1BCDRL = $('#id_camp1_bc_drl').val();
				// var camp1MMETeam = $('#id_camp1_mmeteam').val();
				// var camp1Community = $('#id_camp1_community').val();
				// var camp1Others = $('#id_camp1_others').val();
				// var camp2GovtOfficials = $('#id_camp2_govtofficials').val();
				// var camp2StateHead = $('#id_camp2_statehead').val();
				// var camp2ContentSRG = $('#id_camp2_contentsrg').val();
				// var camp2BCDRL = $('#id_camp2_bc_drl').val();
				// var camp2MMETeam = $('#id_camp2_mmeteam').val();
				// var camp2Community = $('#id_camp2_community').val();
				// var camp2Others = $('#id_camp2_others').val();
				// var camp3GovtOfficials = $('#id_camp3_govtofficials').val();
				// var camp3StateHead = $('#id_camp3_statehead').val();
				// var camp3ContentSRG = $('#id_camp3_contentsrg').val();
				// var camp3BCDRL = $('#id_camp3_bc_drl').val();
				// var camp3MMETeam = $('#id_camp3_mmeteam').val();
				// var camp3Community = $('#id_camp3_community').val();
				// var camp3Others = $('#id_camp3_others').val();
				// var camp4GovtOfficials = $('#id_camp4_govtofficials').val();
				// var camp4StateHead = $('#id_camp4_statehead').val();
				// var camp4ContentSRG = $('#id_camp4_contentsrg').val();
				// var camp4BCDRL = $('#id_camp4_bc_drl').val();
				// var camp4MMETeam = $('#id_camp4_mmeteam').val();
				// var camp4Community = $('#id_camp4_community').val();
				// var camp4Others = $('#id_camp4_others').val();



				var jobject = {
					'campList' : campList,
					// 'camp1GovtOfficials': camp1GovtOfficials ,
					// 'camp1StateHead': camp1StateHead ,
					// 'camp1ContentSRG': camp1ContentSRG ,
					// 'Camp1BCDRL': Camp1BCDRL ,
					// 'camp1MMETeam': camp1MMETeam ,
					// 'camp1Community': camp1Community ,
					// 'camp1Others': camp1Others ,
					// 'camp2GovtOfficials': camp2GovtOfficials ,
					// 'camp2StateHead': camp2StateHead ,
					// 'camp2ContentSRG': camp2ContentSRG ,
					// 'camp2BCDRL': camp2BCDRL ,
					// 'camp2MMETeam': camp2MMETeam ,
					// 'camp2Community': camp2Community ,
					// 'camp2Others': camp2Others ,
					// 'camp3GovtOfficials': camp3GovtOfficials ,
					// 'camp3StateHead': camp3StateHead ,
					// 'camp3ContentSRG': camp3ContentSRG ,
					// 'camp3BCDRL': camp3BCDRL ,
					// 'camp3MMETeam': camp3MMETeam ,
					// 'camp3Community': camp3Community ,
					// 'camp3Others': camp3Others ,
					// 'camp4GovtOfficials': camp4GovtOfficials ,
					// 'camp4StateHead': camp4StateHead ,
					// 'camp4ContentSRG': camp4ContentSRG ,
					// 'camp4BCDRL': camp4BCDRL ,
					// 'camp4MMETeam': camp4MMETeam ,
					// 'camp4Community': camp4Community ,
					// 'camp4Others': camp4Others ,



				}
					
				console.log(jobject);				

				$.ajax({
					url: 'databaseconnection.php',
					method:'POST',
					data:jobject,
					dataType:'json',
					success:function(data)
					{
						//alert(data);
						console.log('server response', data);                            
						
					},
					error: function (xhr, ajaxOptions, thrownError) {
						console.log('server error.');
					}
				});

				console.log('at end');

		   	});
	   	});


		



	</script>
	
	</body>			
</html>